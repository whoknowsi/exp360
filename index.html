<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script> 
        <script type="module" src="./components/raycaster-listener.js"></script>
        <link rel="stylesheet" href="main.css">
	</head>
	<body>

        <a-scene id="scene">
            <!-- Recursos -->
            <a-assets>
                <img id="cursor-img" src="./img/cursor.png">
            </a-assets>
            
            <!-- Cursor independiente de la cámara (Para modo previsualización) -->
            <a-entity>

                <a-image id="cursor-prev" position="0 1.6 0"src="#cursor-img" geometry="primitive: circle; radius: .1"></a-image>
                <a-entity 
                    id="cursor-prev-raycast" 
                    position="0 1.6 -.1" 
                    cursor="fuseTimeout: 500"
                    raycaster="objects: .collidable; showLine: true; near: 0">
                </a-entity>
            </a-entity>
            
            <!-- Cámara -->
            <a-entity 
                id="camera" 
                camera look-controls 
                position="0 1.6 0" 
                rotation="0 90 0">
                <!-- Cursor dependiente de la cámara (Para modo edición) -->
                <a-entity 
                    id="cursor-edit" 
                    cursor="fuseTimeout: 1500"
                    raycaster="objects: none; showLine: true"
                    visible="false">
                        <a-image position= "0 0 -.1" src="#cursor-img" height=".01" width=".01" material="alphaTest: 0.5"></a-image>
                </a-entity>
            </a-entity>

            
            <!-- <a-box 
                visible="false"
                position="-5 0 -1.2" 
                color="#853EFF" 
                class="collidable"
                height="1.5"
                width="4"
                depth=".5"
                raycaster-listener>
            </a-box> -->
            <a-box 
                class="structureTarget" 
                position="0 0 0" 
                rotation="0 0 0" 
                width="100" 
                height=".1" 
                depth="100" 
                color="#7BC8A4"  
                opacity="0"
                raycaster-listener>
            </a-box>
            <a-box 
                class="structureTarget" 
                position="0 10 0" 
                rotation="0 0 0" 
                width="100" 
                height=".1" 
                depth="100" 
                color="#7BC8A4"  
                opacity="0"
                raycaster-listener>
            </a-box>
            <a-box 
                class="structureTarget" 
                position="-20 0 0" 
                rotation="0 0 0" 
                width=".1" 
                height="100" 
                depth="100" 
                color="#7BC8A4"  
                opacity="0"
                raycaster-listener>
            </a-box>
            <a-box 
                class="structureTarget" 
                position="20 0 0" 
                rotation="0 0 0" 
                width=".1" 
                height="100" 
                depth="100" 
                color="#7BC8A4"  
                opacity="0"
                raycaster-listener>
            </a-box>
            <a-box 
                class="structureTarget" 
                position="0 0 20" 
                rotation="0 0 0" 
                width="100" 
                height="100" 
                depth=".1" 
                color="#7BC8A4"  
                opacity="0"
                raycaster-listener>
            </a-box>
            <a-box 
                class="structureTarget" 
                position="0 0 -20" 
                rotation="0 0 0" 
                width="100" 
                height="100" 
                depth=".1" 
                color="#7BC8A4"  
                opacity="0"
                raycaster-listener>
            </a-box>
            <a-sky radius="100" src="./img/Teatro1.jpg" ></a-sky>
            
        </a-scene>

        <div class="buttonContainer">
            <button class="button toggleEditor">Editar</button>
        </div>
        <div class="buttonBuilds">
            <button class="editorButton cube" >Construir cubo</button>
            <button class="editorButton offset" >Construir cubo elevado</button>
            <button class="editorButton toggleStructure">Ocultar estructuras</button>
            <button class="editorButton toggleGizmos">Ocultar gizmos</button>
        </div>

            
        <script src="./components/index.js"></script>
        <script type="module" src="./components/build.js"></script> 
        <script type="module" src="./components/helper.js"></script>
        
        
		<!-- Import maps polyfill -->
		<!-- Remove this when import maps will be widely supported -->
		
        
	</body>
</html>
